<!doctype html>
<html>

<head>
<meta charset="utf-8">
<title>Final Project</title>
<link rel="stylesheet" type="text/css" href="style/style.css">
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="libraries/p5.js" type="text/javascript"></script>
<script type="text/javascript" src="script.js"></script>

<style>
body{
  margin:0;
  padding:0;
}
canvas
{
  background:black;
  margin:0;
  padding:0;
}
</style>
</head>

<body>

  <div class= "formContainer">
  <!--form done using more current tags... -->
  <form id="userForm" action="">
  <!-- group the related elements in a form -->
  <h3> LOGIN :::</h3>
  <fieldset>
  <p><label>Username:</label><input type = "text" size="10" maxlength = "15"  name = "u_name" value = "" required></p>
  <p class = "sub"><input type = "submit" name = "submit" value = "login" id ="buttonS" /></p>
   </fieldset>
  </form>
  </div>

  <script>
  $(document).ready (function(){
      $("#userForm").submit(function(event) {
         //stop submit the form, we will post it manually. PREVENT THE DEFAULT behaviour ...
      event.preventDefault();
       console.log("button clicked");
       let form = $('#userForm')[0];
       let data = new FormData(form);
       $.ajax({
              type: "POST",
              enctype: 'text/plain',
              url: "fetchUserInfo.php",
              data: data,
              processData: false,//prevents from converting into a query string
              contentType: false,
              cache: false,
              timeout: 600000,
              success: function (response) {
              console.log(response);
             },
             error:function(){
            console.log("error occurred");
          }
        });
     });

  });
  </script>
</body>

</html>
